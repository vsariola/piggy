# Requiem for a piggy - 256b intro - Flashparty2021

This repository contains the unpacked and mildly commented source for the TIC-80
256b intro Requiem for a piggy, made by pestis / bC! and released at Flashparty
2021.

Note that the newline works as it should after packing; pactic embeds the
function in single quotes `TIC=load'..."\\n"...'`. But if you preview the .lua,
it won't work. Hopefully future versions of pactic handle string escape chars
properly.

The music is just rehashing p01's ideas for
[Music for tiny airports](http://www.p01.org/music_for_tiny_airports/), which
in turn was apparently inspired by Brian Eno. I just made the loops shorter and
of lengths 1,2,3,4 (lowest common multiple 12), so it feels less ambient and
more rythmic.

The only interesting discovery worth mentioning here is the fact that the note
numbers (semitones) of a minor chord with an added octave are: 0-3-7-12. These
can be generated with a quadratic function x*(x+5)/2.

Major triad with an added octave is 0-4-7-12, which is not a quadratic function.
But the second inversion of a major triad is 0-5-9-12 and these are generated by
a quadratic function x*(11-x)/2. This equation is close to the equation for a
minor chord. So it was easy to devise an equation that generates either minor or
major chords depending on the part of the song. All that remained was to shift
the bass note to create chord progressions (taking into account the second
inversion); these were just tabulated.

For the minor chords, 0-7-12-15 would have been a slightly more spaced out
voicing and sounded better; this voicing is generated by an even shorter
equation x*(8-x). But I didn't find similarly spaced out voicings for major
triads. The change from minor to major triad equation seemed to consume more
bytes with this equation, so I had to leave it out.

Oh, the backstory is some joke with ps on discord, don't ask.

Tested with TIC-80 0.90.1723, packed with
[pactic](https://github.com/phlubby/pactic). Remember to add -c option.

Greets: psenough, p01, pactic authors and TIC-80 devs.

License: [MIT](LICENSE)

![Screenshot of the intro](screenshot.png)